{% extends "base.html" %}
{% block title %}
  Checkout
{% endblock %}
{% block content %}

<script src="https://js.stripe.com/v3/"></script>
 {% comment %} <div>

  <form action="/charge" method="post" id="payment-form">
  <div class="form-row">
    <label for="card-element">
      Credit or debit card
    </label>
    <div id="card-element">
      <!-- A Stripe Element will be inserted here. -->
    </div>

    <!-- Used to display form errors. -->
    <div id="card-errors" role="alert"></div>
  </div>
  <button>Submit Payment</button>
</form> {% endcomment %}
<h1>Checkout</h1><div id="take-a-payment-demo" class="accept-a-card-payment">
<div class="order-info">
    <h3>Your order</h3>
    <ul>
      {% for item in cart %}
        <li>
          {{ item.quantity }}x {{ item.product.name }}
          <span>${{ item.total_price }}</span>
        </li>
      {% endfor %}
    </ul>
    <p>Total: ${{ cart.get_total_price }}</p>
  </div>
  <form method="post" class="order-form">
  {% csrf_token %}
    {{ form.as_p }}
    

    <p><input type="submit" value="Place order"></p>
  </form>
{% endblock %}

